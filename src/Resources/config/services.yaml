services:
  _defaults:
    autowire: true
    autoconfigure: true

  WechatWorkJssdkBundle\Controller\:
    resource: '../../Controller/'

  WechatWorkJssdkBundle\Service\:
    resource: '../../Service/'

  WechatWorkJssdkBundle\Procedure\:
    resource: '../../Procedure/'

  # 语义相关服务
  WechatWorkJssdkBundle\Semantics\SemanticsList:
    autowire: true

  WechatWorkJssdkBundle\Semantics\PhoneNumber:
    tags: ['wechat-work.semantics']

  WechatWorkJssdkBundle\Semantics\EmailAddress:
    tags: ['wechat-work.semantics']

  WechatWorkJssdkBundle\Semantics\RedPacket:
    tags: ['wechat-work.semantics']

  # 外部依赖的可选配置
  WechatWorkJssdkBundle\Controller\LaunchCodeController:
    arguments:
      $corpRepository: '@?WechatWorkBundle\Repository\CorpRepository'
      $agentRepository: '@?WechatWorkBundle\Repository\AgentRepository'
      $workService: '@?WechatWorkBundle\Service\WorkService'